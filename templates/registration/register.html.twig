{% extends 'base.html.twig' %}

{% block title %}
	{{ title }}
{% endblock %}

{% block body %}
	<div id="main">
		{% include "partials/_nav_bar.html.twig" %}

		<div class="create container">
			<div class="create__form mx-auto pt-5 mt-5">
				<div class="stack__text">
					<div class="stack__text--projects fs-1 gs_reveal gs_reveal_fromLeft">Create an</div>
					<div class="stack__text--stack mb-2 fs-2 gs_reveal gs_reveal_fromBottom">ACCOUNT</div>
				</div>

				{{ form_start(registrationForm, {'attr': {'class': 'form__registration mx-auto pb-5', 'autocomplete': 'off' }}) }}
				<div class="row">
					<div class="col-12 col-lg-6 mx-auto">
						<input type="hidden" name="token" value="{{ csrf_token('register_user') }}"/>
						<div class="form__group">
							<div class="form__errors">
								{{ form_errors(registrationForm.email) }}
							</div>
							{{ form_widget(registrationForm.email, {'attr': { 'type': 'email', 'class': 'form__input', 'placeholder': 'Email', 'id': 'email' }}) }}
							<label for="email" class="form__label">Email</label>
						</div>

						<div class="form__group">
							<div class="form__errors">
								{{ form_errors(registrationForm.firstname) }}
							</div>
							{{ form_widget(registrationForm.firstname, {'attr': { 'type': 'text', 'class': 'form__input', 'placeholder': 'Firstname', 'id': 'firstname' }}) }}
							<label for="firstname" class="form__label">Firstname</label>
						</div>

						<div class="form__group">
							<div class="form__errors">
								{{ form_errors(registrationForm.lastname) }}
							</div>
							{{ form_widget(registrationForm.lastname, {'attr': { 'type': 'text', 'class': 'form__input', 'placeholder': 'Lastname', 'id': 'lastname' }}) }}
							<label for="lastname" class="form__label">Lastname</label>
						</div>

						<div class="form__group">
							<div class="form__errors">
								{{ form_errors(registrationForm.password.first) }}
							</div>
							{{ form_widget(registrationForm.password.first, {'attr': { 'type': 'password', 'class': 'form__input', 'placeholder': 'Password', 'id': 'password' }}) }}
							<label for="password" class="form__label">Password</label>
						</div>

						<div class="form__group">
							<div class="form__errors">
								{{ form_errors(registrationForm.password.second) }}
							</div>
							{{ form_widget(registrationForm.password.second, {'attr': { 'type': 'password', 'class': 'form__input', 'placeholder': 'Confirm password', 'id': 'repeat-password' }}) }}
							<label for="repeat-password" class="form__label">Confirm password</label>
						</div>

						<div class="form__group">
							{{ form_widget(registrationForm.login, {'attr': { 'type': 'text', 'class': 'form__input', 'placeholder': 'Nickname', 'id': 'nickname' }}) }}
							<label for="nickname" class="form__label">Nickname</label>
						</div>

						<div class="form__group">
							<div class="form__errors-1">
								<ul class="agree">
									<li></li>
								</ul>
							</div>

							<div class="form__radio-group">
								{{ form_widget(registrationForm.agreeTerms, {'attr': { 'class': 'form__radio-input', 'id': 'registration_form_agreeTerms' }}) }}
								<label for="registration_form_agreeTerms" class="form__radio-label">
									<span class="form__radio-button"></span>Accept
									<a href="{{ path('terms') }}" class="in-bl">terms of use</a>
								</label>
							</div>
							<p class="language-html">This site is protected by reCAPTCHA and the Google
								<a class="in-bl" href="https://policies.google.com/privacy">Privacy Policy</a>
								and
								<a class="in-bl" href="https://policies.google.com/terms">Terms of Service</a>
								apply.</p>
						</div>
					</div>
				</div>
				<p class="language-html text-center" style="font-size: 1.9rem; margin-bottom: 3rem">Already have an account ?
					<a href="{{ path('user_signin') }}" class="in-bl">login</a>
				</p>
				<div class="form-group">
					<button type="submit" class="button__login mx-auto d-block">Register</button>
				</div>
				{{ form_end(registrationForm) }}
			</div>
		</div>
	</div>

	<!-- Footer -->
	{% include "partials/_footer.html.twig" %}
{% endblock %}

{% block javascripts %}
	<script type="text/javascript">
		let message = "{{ registrationForm.agreeTerms.vars.errors.form.config.options.constraints[0].message }}";
window.localStorage.setItem('agree', message);
	</script>
{% endblock %}
