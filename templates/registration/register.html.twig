{% extends 'base.html.twig' %}

{% block title %}
	{{ title }}
{% endblock %}

{% block body %}
	<!-- Logo -->
	{% include "partials/_top_buttons.html.twig" %}

	<!-- Fullscreen Navigation -->
	{% include "partials/_fullscreen_nav.html.twig" %}

	<div class="create container">
		<div class="create__form mx-auto pt-5 mt-5">
			<div class="stack__text">
				<div class="stack__text--projects fs-1" data-aos="fade-up">Create an</div>
				<div class="stack__text--stack mb-2 fs-2" data-aos="fade-up">ACCOUNT</div>
			</div>

			{{ form_start(registrationForm, {'attr': {'class': 'form__registration mx-auto pb-5', 'autocomplete': 'off' }}) }}
			<div class="row">
				<div class="col-12 col-lg-6 mx-auto">
					<div class="form__group">
						<div class="form__errors">
							{{ form_errors(registrationForm.email) }}
						</div>
						{{ form_widget(registrationForm.email, {'attr': { 'type': 'email', 'class': 'form__input', 'placeholder': 'Email', 'id': 'email' }}) }}
						<label for="email" class="form__label">Email</label>
					</div>

					<div class="form__group">
						<div class="form__errors">
							{{ form_errors(registrationForm.email) }}
						</div>
						{{ form_widget(registrationForm.firstname, {'attr': { 'type': 'text', 'class': 'form__input', 'placeholder': 'Firstname', 'id': 'firstname' }}) }}
						<label for="firstname" class="form__label">Firstname</label>
					</div>

					<div class="form__group">
						<div class="form__errors">
							{{ form_errors(registrationForm.email) }}
						</div>
						{{ form_widget(registrationForm.lastname, {'attr': { 'type': 'text', 'class': 'form__input', 'placeholder': 'Lastname', 'id': 'lastname' }}) }}
						<label for="lastname" class="form__label">Lastname</label>
					</div>

					<div class="form__group">
						<div class="form__errors">
							{{ form_errors(registrationForm.password.first) }}
						</div>
						{{ form_widget(registrationForm.password.first, {'attr': { 'type': 'password', 'class': 'form__input', 'placeholder': 'Password', 'id': 'password' }}) }}
						<label for="password" class="form__label">Password</label>
					</div>

					<div class="form__group">
						<div class="form__errors">
							{{ form_errors(registrationForm.password.second) }}
						</div>
						{{ form_widget(registrationForm.password.second, {'attr': { 'type': 'password', 'class': 'form__input', 'placeholder': 'Repeat password', 'id': 'repeat-password' }}) }}
						<label for="repeat-password" class="form__label">Confirm password</label>
					</div>

					<div class="form__group">
						{{ form_widget(registrationForm.login, {'attr': { 'type': 'text', 'class': 'form__input', 'placeholder': 'Nickname', 'id': 'nickname' }}) }}
						<label for="nickname" class="form__label">Nickname</label>
					</div> 

                    <div class="form__group">
						<div class="form__errors-1">
							<ul class="agree">
								<li></li>
							</ul>
						</div>

						<div class="form__radio-group">
							{{ form_widget(registrationForm.agreeTerms, {'attr': { 'class': 'form__radio-input', 'id': 'registration_form_agreeTerms' }}) }}
							<label for="registration_form_agreeTerms" class="form__radio-label">
								<span class="form__radio-button"></span>
								<a href="{{ path('terms') }}" class="in-bl">Agree terms</a>
							</label>
						</div>
					</div>
				</div>
			</div>
			<p class="project__introduction text-center" style="font-size: 1.9rem; margin-bottom: 3rem">Already have an account ? <a href="{{ path('user_signin') }}" class="in-bl">login</a></p>
			<div class="form-group">
				<button type="submit" class="button__login mx-auto d-block">Register</button>
			</div>
			{{ form_end(registrationForm) }}
		</div>
	</div>
<pre style="font-size: 1.6rem">
	{{ dump(registrationForm.agreeTerms.vars.errors.form.config.options.constraints[0].message) }}
</pre>
	<!-- Footer -->
	{% include "partials/_footer.html.twig" %}
{% endblock %}

{% block javascripts %}
	<script type="text/javascript">
	let message = "{{registrationForm.agreeTerms.vars.errors.form.config.options.constraints[0].message}}";
		//console.log(message)
		window.localStorage.setItem('agree', message);
		/*$('.form__radio-input').change(() => {
			if ($(this).prop("checked")) {
				// checked
				console.log('checked');
				$('.agree').text(`<li>${message}</li>`);
				//return;
			}
			// not checked
			console.log('not checked');
		});*/
	</script>
{% endblock %}
