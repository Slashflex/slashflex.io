{% extends 'base.html.twig' %}

{% block title %}
	{{ title }}
{% endblock %}

{% block body %}
    {% for message in app.flashes('success') %}
		<div class="flash-notice alert-success">
			{{ message }}
		</div>
	{% endfor %}

	<div id="sidenav" class="sidenav">
		<div class="dropdown show">
			<a class="dropdown-toggle" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				<img
				class="profil-image" src="#" alt="">
			{# {{ app.user.avatar }} #}
			</a>

			<div class="dropdown-menu bg-light border-0" aria-labelledby="dropdownMenuLink">
				<a class="dropdown-item text-center" href="#">Profile</a>
				<a class="dropdown-item text-center" href="#">Logout</a>
			</div>
		</div>

		<a href="#" class="users__list--btn">
			<i class="fas fa-user"></i>
		</a>
		<a href="#" class="projects__list--btn">
			<i class="fas fa-server"></i>
		</a>
		<a href="#">
			<i class="fas fa-newspaper"></i>
		</a>
		<a href="{{ path('logout') }}">
			<i class="fas fa-sign-out-alt"></i>
		</a>
	</div>

	<div id="main">
		<div class="accordion" id="accordion">
			<div class="card z-depth-0 bordered">
				<div class="card-header" id="headingOne2">
                    <h3 data-toggle="collapse" data-target="#users-list" aria-expanded="true" aria-controls="users-list">
                        Users list
                    </h3>
				</div>
				<div id="users-list" class="collapse users__list" aria-labelledby="headingOne2" data-parent="#accordion">
					<div class="row">
						<!--Card-->
						{% for user in users %}
							<div class="col-lg-4 col-md-6">
								<div class="card m-3">
									<img src="..." class="card-img-top" alt="...">
									<div class="card-body">
										<h5 class="card-title">{{ user.firstname }} {{ user.lastname }}</h5>
										<p class="card-text">{{ user.description }}</p>
										<div class="d-flex justify-content-between">
											<p class=" font-weight-bold">{{ user.email }}</p>
											<a href="#" class="btn btn-success">Show</a>
										</div>
									</div>
								</div>
							</div>
						{% endfor %}
					</div>
				</div>
			</div>

			<div class="card z-depth-0 bordered">
				<div class="card-header" id="headingTwo2">
                    <h3 data-toggle="collapse" data-target="#projects-list" aria-expanded="false" aria-controls="projects-list">
                        Projects list
                    </h3>
				</div>
				<div id="projects-list" class="collapse projects__list" aria-labelledby="headingTwo2" data-parent="#accordion">
					<div class="card-body">
						<div class="row">
						<!--Card-->
						{% for project in projects %}
							<div class="col-lg-4 col-md-6">
								<div class="card m-3">
									<img src="{{ project.mainImage }}" class="card-img-top" alt="...">
									<div class="card-body">
										<h5 class="card-title">{{ project.title }}</h5>
										<p class="card-text">{{ project.introduction|u.truncate(30, '...') }}</p>
										<div class="d-flex justify-content-between">
											<a href="{{ path('single_project', {'slug': project.slug}) }}" class="btn btn-success">Show</a>
											<a href="{{ path('edit_project', {'slug': project.slug}) }}" class="btn btn-primary">Edit</a>
											<a href="{{ path('delete_project', {'slug': project.slug}) }}" class="btn btn-danger">Delete</a>
										</div>
									</div>
								</div>
							</div>
						{% endfor %}
					</div>
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}

{% block javascripts %}
	<script type="text/javascript">
		// Admin menu
function openNav() {
document.getElementById("sidenav").style.width = "250px";
document.getElementById("main").style.marginLeft = "250px";
}

function closeNav() {
document.getElementById("sidenav").style.width = "100px";
document.getElementById("main").style.marginLeft = "100px";
}
	</script>
{% endblock %}
